## Диаграмма классов для задания Практика «CVS»

![дк cvs 2](https://github.com/user-attachments/assets/207cd18a-41c0-44da-9acc-73152bc33906)

### Описание основных сущностей:
- CloneVersionSystem
  - Execute(string query) - Главный метод системы для обработки всех входящих команд.
    - Логика работы:
      1. Разбивает строку на части по пробелам
      2. Определяет тип команды (первые слово)
      3. Перенаправляет выполнение соответствующему приватному методу
      4. Возвращает результат для команды "check", для остальных - null


  - Learn(int cloneId, string program)
    - Получает текущее состояние клона
    - Добавляет программу в стек Programs
    - Сбрасывает стек Rollbacks
    - Сохраняет новое состояние

  - Rollback(int cloneId)
    - Переносит верхний элемент из Programs в Rollbacks
    - Генерирует исключение при пустом стеке Programs

  - Relearn(int cloneId)
    - Обратна Rollback - переносит из Rollbacks в Programs
    - Проверяет наличие элементов в Rollbacks

  - Clone(int cloneId)
    - Создает глубокую копию состояния (новые стеки)
    - Автоматически назначает следующий доступный ID

  - Check(int cloneId) - возвращает "basic" если стек Programs пуст, верхний элемент Programs в противном случае

- ImmutableStack<T>
  - Push(T value) - возвращает: Новый стек с добавленным элементом
  - Peek() - генерирует InvalidOperationException для пустого стека

- CloneState
  - Не допускает null-значения (использует Empty)
  - Гарантирует, что оба стека инициализированы
  - Обработка ошибок:
    - Peek() - при пустом стеке
    - Rollback() - при попытке отката пустого стека программ
    - Relearn() - при пустом стеке откатов
